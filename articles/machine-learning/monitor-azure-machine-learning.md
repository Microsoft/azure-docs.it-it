---
title: Monitoraggio di Azure Machine Learning Documenti Microsoft
description: Informazioni su come usare Monitoraggio di Azure per visualizzare, analizzare e creare avvisi sulle metriche da Azure Machine Learning.Learn how to use Azure Monitor to view, analyze, and create alerts on metrics from Azure Machine Learning.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.reviewer: larryfr
ms.author: aashishb
author: aashishb
ms.date: 03/05/2020
ms.openlocfilehash: eb4f46322bec57fb4412d3ddebb345640556ca5c
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/28/2020
ms.locfileid: "78399100"
---
# <a name="monitoring-azure-machine-learning"></a>Monitoraggio di Azure Machine LearningMonitoring Azure Machine Learning

Questo articolo descrive i dati di monitoraggio generati da Azure Machine Learning.This article describes the monitoring data generated by Azure Machine Learning. Viene inoltre descritto come usare Monitoraggio di Azure per analizzare i dati e definire avvisi.

> [!TIP]
> The information in this document is primarily for administrators, as it describes monitoring for the Azure Machine Learning. Se si è un data scientist o uno sviluppatore e si desidera monitorare le informazioni specifiche per le esecuzioni di training del modello, vedere i documenti seguenti:If you are a data scientist or developer, and want to monitor information specific to your model training runs, see the following documents:
>
> * [Avviare, monitorare e annullare le esecuzioni degli allenamenti](how-to-manage-runs.md)
> * [Registrare le metriche per le esecuzioni di training](how-to-track-experiments.md)
> * [Tenere traccia di esperimenti con MLflow](how-to-use-mlflow.md)
> * [Visualizzare le esecuzioni con TensorBoard](how-to-monitor-tensorboard.md)

## <a name="azure-monitor"></a>Monitoraggio di Azure

Azure Machine Learning logs monitoring data using Azure Monitor, which is a full stack monitoring service in Azure. Monitoraggio di Azure offre un set completo di funzionalità per monitorare le risorse di Azure.Azure Monitor provides a complete set of features to monitor your Azure resources. Può anche monitorare le risorse in altri cloud e in locale.

Iniziare con l'articolo [Panoramica](/azure/azure-monitor/overview)di Monitoraggio di Azure , che offre una panoramica delle funzionalità di monitoraggio. Le sezioni seguenti si basano su queste informazioni fornendo specifiche dell'uso di Monitoraggio di Azure con Azure Machine Learning.The following sections build on this information by providing specifics of using Azure Monitor with Azure Machine Learning.

Per comprendere i costi associati a Monitoraggio di Azure, vedere [Utilizzo e costi stimati](/azure/azure-monitor/platform/usage-estimated-costs). Per comprendere il tempo necessario per la visualizzazione dei dati in Monitoraggio di Azure, vedere Registrare il tempo di inserimento dei [dati.](/azure/azure-monitor/platform/data-ingestion-time)

## <a name="monitoring-data-from-azure-machine-learning"></a>Monitoraggio dei dati da Azure Machine LearningMonitoring data from Azure Machine Learning

Azure Machine Learning raccoglie gli stessi tipi di dati di monitoraggio delle altre risorse di Azure, descritti in Monitoraggio dei dati dalle risorse di Azure.Azure Machine Learning collects the same kinds of monitoring data as other Azure resources, which are described in [Monitoring data from Azure resources.](/azure/azure-monitor/insights/monitor-azure-resource#monitoring-data) Per informazioni di riferimento dettagliate sui log e sulle metriche create da Azure Machine Learning, vedere Informazioni di riferimento sui dati di monitoraggio di [Azure Machine Learning.See Azure Machine Learning monitoring data reference](monitor-resource-reference.md) for a detailed reference of the logs and metrics created by Azure Machine Learning.

## <a name="analyzing-metric-data"></a>Analisi dei dati delle metriche

È possibile analizzare le metriche per Azure Machine Learning aprendo **Metriche** dal menu **Monitoraggio di Azure.You** can analyze metrics for Azure Machine Learning by opening Metrics from the Azure Monitor menu. Per informazioni dettagliate sull'uso di questo strumento, [vedere Introduzione a Azure Metrics Explorer.See Getting started with Azure Metrics Explorer](/azure/azure-monitor/platform/metrics-getting-started) for details on using this tool.

Tutte le metriche per Azure Machine Learning si trovano nello spazio dei nomi **Area di lavoro del servizio di apprendimento automatico.**

![Esplora metriche con l'area di lavoro del servizio Di Machine Learning selezionataMetrics Explorer with Machine Learning Service Workspace selected](./media/monitor-azure-machine-learning/metrics.png)

### <a name="filtering-and-splitting"></a>Filtraggio e divisione

Per le metriche che supportano le dimensioni, è possibile applicare filtri utilizzando un valore di dimensione. Ad esempio, il filtro **Active Cores** per un **nome cluster** di `cpu-cluster`. 

È inoltre possibile dividere una metrica per dimensione per visualizzare il confronto tra i diversi segmenti della metrica. Ad esempio, la suddivisione del tipo di **passaggio** della pipeline per visualizzare un conteggio dei tipi di passaggi utilizzati nella pipeline.

Per altre informazioni sul filtro e la divisione, vedere [Funzionalità avanzate di Monitoraggio di Azure.For](/azure/azure-monitor/platform/metrics-charts)more information of filtering and splitting, see Advanced features of Azure Monitor .

## <a name="alerts"></a>Avvisi

È possibile accedere agli avvisi per Azure Machine Learning aprendo Avvisi dal menu **Monitoraggio di Azure.You** can access alerts for Azure Machine Learning by opening **Alerts** from the Azure Monitor menu. Per informazioni dettagliate sulla creazione di avvisi, [vedere Creare, visualizzare e gestire avvisi sulle metriche usando Monitoraggio azure.See Create, view, and manage metric alerts using Azure Monitor](/azure/azure-monitor/platform/alerts-metric) for details on creating alerts.

Nella tabella seguente sono elencate le regole di avviso delle metriche comuni e consigliate per Azure Machine Learning:The following table lists common and recommended metric alert rules for Azure Machine Learning:

| Tipo di avviso | Condizione | Descrizione |
|:---|:---|:---|
| Distribuzione del modello non riuscita | Tipo di aggregazione: Totale, Operatore: Maggiore di, Valore soglia: 0 | Quando una o più distribuzioni di modelli hanno avuto esito negativoWhen one or more model deployments have failed |
| Percentuale di utilizzo della quota | Tipo di aggregazione: Media, Operatore: Maggiore di, Valore soglia: 90| Quando la percentuale di utilizzo della quota è superiore al 90% |
| Nodi inutilizzabili | Tipo di aggregazione: Totale, Operatore: Maggiore di, Valore soglia: 0 | Quando sono presenti uno o più nodi inutilizzabili |

## <a name="configuration"></a>Configurazione

> [!IMPORTANT]
> __Le metriche per Azure Machine Learning non devono essere configurate,__ vengono raccolte automaticamente e sono disponibili in Esplora metriche per il monitoraggio e gli avvisi.

È possibile aggiungere un'impostazione di diagnostica per configurare le funzionalità seguenti:You can add a diagnostic setting to configure the following functionality:

* Archiviare le informazioni relative al log e alle metriche in un account di archiviazione di Azure.Archive log and metrics information to an Azure storage account.
* Trasmettere le informazioni sul log e sulle metriche di flusso in un hub eventi di Azure.Stream log and metrics information to an Azure Event Hub.
* Inviare informazioni su log e metriche a Azure Monitor Log Analytics.Send log and metrics information to Azure Monitor Log Analytics.

L'abilitazione di queste impostazioni richiede servizi di Azure aggiuntivi (account di archiviazione, hub eventi o Log Analytics), che possono aumentare il costo. Per calcolare un costo stimato, visitare il [calcolatore dei prezzi](https://azure.microsoft.com/pricing/calculator)di Azure.

Per altre informazioni sulla creazione di un'impostazione di diagnostica, vedere [Creare un'impostazione di diagnostica per raccogliere log e metriche](/azure/azure-monitor/platform/diagnostic-settings)della piattaforma in Azure.For more information on creating a diagnostic setting, see Create diagnostic setting to collect platform logs and metrics in Azure.

È possibile configurare i log seguenti per Azure Machine Learning:You can configure the following logs for Azure Machine Learning:

| Category | Descrizione |
|:---|:---|
| AmlComputeClusterEvent | Eventi dai cluster di calcolo di Azure Machine Learning.Events from Azure Machine Learning compute clusters. |
| AmlComputeClusterNodeEvent (evento AmlComputeClusterNodeEvent) | Eventi dai nodi all'interno di un cluster di calcolo di Azure Machine Learning.Events from nodes within an Azure Machine Learning compute cluster. |
| AmlComputeJobEvent | Eventi da processi in esecuzione nel calcolo di Azure Machine Learning.Events from jobs running on Azure Machine Learning compute. |

> [!NOTE]
> Quando si abilitano le metriche in un'impostazione di diagnostica, le informazioni sulle dimensioni non sono attualmente incluse come parte delle informazioni inviate a un account di archiviazione, a un hub eventi o a un'analisi dei log.

## <a name="analyzing-log-data"></a>Analisi dei dati di logAnalyzing log data

L'uso di Azure Monitor Log Analytics richiede la creazione di una configurazione di diagnostica e l'abilitazione di __Invia informazioni a Log Analytics__. Per altre informazioni, vedere la sezione [Configurazione.For more](#configuration) information, see the Configuration section.

I dati nei log di Monitoraggio di Azure vengono archiviati in tabelle, con ogni tabella con il proprio set di proprietà univoche. Azure Machine Learning archivia i dati nelle tabelle seguenti:Azure Machine Learning stores data in the following tables:

| Tabella | Descrizione |
|:---|:---|
| AmlComputeClusterEvent | Eventi dai cluster di calcolo di Azure Machine Learning.Events from Azure Machine Learning compute clusters. |
| AmlComputeClusterNodeEvent (evento AmlComputeClusterNodeEvent) | Eventi dai nodi all'interno di un cluster di calcolo di Azure Machine Learning.Events from nodes within an Azure Machine Learning compute cluster. |
| AmlComputeJobEvent | Eventi da processi in esecuzione nel calcolo di Azure Machine Learning.Events from jobs running on Azure Machine Learning compute. |

> [!IMPORTANT]
> Quando si seleziona **Log** dal menu di Azure Machine Learning, Log Analytics viene aperto con l'ambito di query impostato sull'area di lavoro corrente. Ciò significa che le query di log includeranno solo i dati di tale risorsa. Se si vuole eseguire una query che include dati di altri database o dati di altri servizi di Azure, selezionare Log dal menu **Monitoraggio di Azure.If** you want to run a query that includes data from other databases or data from other Azure services, select **Logs** from the Azure Monitor menu. Per informazioni dettagliate, vedere [Registrare l'ambito e l'intervallo di tempo in Azure Monitor Log Analytics.See Log query scope](/azure/azure-monitor/log-query/scope/) and time range in Azure Monitor Log Analytics for details.

Per informazioni di riferimento dettagliate sui log e sulle metriche, vedere Informazioni di riferimento sui dati di monitoraggio di [Azure Machine Learning.](monitor-resource-reference.md)

### <a name="sample-queries"></a>Query di esempio

Di seguito sono riportate le query che è possibile usare per monitorare le risorse di Azure Machine Learning:Following are queries that you can help to help you monitor your Azure Machine Learning resources: 

+ Ottenere i processi non riusciti negli ultimi cinque giorni:

    ```Kusto
    AmlComputeJobEvent
    | where TimeGenerated > ago(5d) and EventType == "JobFailed"
    | project  TimeGenerated , ClusterId , EventType , ExecutionState , ToolType
    ```

+ Ottenere i record per un nome di processo specifico:

    ```Kusto
    AmlComputeJobEvent
    | where JobName == "automl_a9940991-dedb-4262-9763-2fd08b79d8fb_setup"
    | project  TimeGenerated , ClusterId , EventType , ExecutionState , ToolType
    ```

+ Ottenere gli eventi del cluster negli ultimi cinque giorni per i cluster in cui le dimensioni della macchina virtuale sono Standard_D1_V2:Get cluster events in the last five days for clusters where the VM size is Standard_D1_V2:

    ```Kusto
    AmlComputeClusterEvent
    | where TimeGenerated > ago(4d) and VmSize == "STANDARD_D1_V2"
    | project  ClusterName , InitialNodeCount , MaximumNodeCount , QuotaAllocated , QuotaUtilized
    ```

+ Ottenere i nodi allocati negli ultimi otto giorni:Get nodes allocated in the last eight days:

    ```Kusto
    AmlComputeClusterNodeEvent
    | where TimeGenerated > ago(8d) and NodeAllocationTime  > ago(8d)
    | distinct NodeId
    ```

## <a name="next-steps"></a>Passaggi successivi

- Per informazioni di riferimento sui log e sulle metriche, vedere Informazioni di riferimento sui dati di monitoraggio di [Azure Machine Learning.](monitor-resource-reference.md)
- Per informazioni sull'uso delle quote correlate ad Azure Machine Learning, vedere Gestire e richiedere quote per le risorse di Azure.For information on working with quotas related to Azure Machine Learning, see [Manage and request quotas for Azure resources.](how-to-manage-quotas.md)
- Per informazioni dettagliate sul monitoraggio delle risorse di Azure, vedere Monitoraggio delle risorse di Azure con Monitoraggio di Azure.For details on monitoring Azure resources, see [Monitoring Azure resources with Azure Monitor.](/azure/azure-monitor/insights/monitor-azure-resource)
