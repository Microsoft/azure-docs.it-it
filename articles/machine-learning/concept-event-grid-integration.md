---
title: Usare gli eventi di Azure Machine LearningConsume Azure Machine Learning events
titleSuffix: Azure Machine Learning
description: In this article, learn how to use Azure Event Grid to subscribe, react, and unsubscribe to events generated by Azure Machine Learning.
services: machine-learning
ms.service: machine-learning
ms.subservice: core
ms.topic: conceptual
ms.author: andyxu
author: gogowings
ms.date: 11/04/2019
ms.openlocfilehash: d8a975487c68a21b2c8b6fa2f07d86c312243f12
ms.sourcegitcommit: 2ec4b3d0bad7dc0071400c2a2264399e4fe34897
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/28/2020
ms.locfileid: "79139046"
---
# <a name="consume-azure-machine-learning-events-preview"></a>Usare gli eventi di Azure Machine Learning (anteprima)Consume Azure Machine Learning events (Preview)

Azure Machine Learning gestisce l'intero ciclo di vita del processo di apprendimento automatico, inclusi il training dei modelli, la distribuzione dei modelli e il monitoraggio. Gli eventi di Azure Machine Learning consentono alle applicazioni di reagire agli eventi durante il ciclo di vita dell'apprendimento automatico, ad esempio il completamento delle esecuzioni dei corsi di formazione, la registrazione e la distribuzione dei modelli e il rilevamento della deriva dei dati, usando i moderni serverless Architetture. 

Questi eventi vengono pubblicati tramite Griglia di eventi di [Azure.](https://azure.microsoft.com/services/event-grid/) Utilizzando il portale di Azure, Powershell o l'interfaccia della riga di comando di Azure, i clienti possono sottoscrivere facilmente gli eventi [specificando uno o più tipi di eventi e filtrando le condizioni.](/azure/event-grid/event-filtering) I clienti hanno anche la possibilità di creare un'ampia gamma di gestori eventi, ad esempio Funzioni di Azure, App per la logica di Azure o webhook generici. Azure Machine Learning, insieme a Griglia di eventi di Azure, offre una piattaforma di distribuzione degli eventi elevata disponibile, affidabile e a tolleranza di errore per la creazione di applicazioni basate su eventi.

Per informazioni sull'uso di Azure Machine Learning con Griglia di eventi, vedere Creare flussi di lavoro di [Machine Learning guidati da eventi (anteprima).](how-to-use-event-grid.md)

## <a name="the-event-model"></a>Il modello di evento 

Griglia di eventi di Azure legge gli eventi dalle origini, ad esempio Azure Machine Learning e altri servizi di Azure.Azure Event Grid reads events from sources, such as Azure Machine Learning and other Azure services. Questi eventi vengono quindi inviati a gestori eventi come Hub eventi di Azure, Funzioni di Azure, App per la logica e altri. Il diagramma seguente mostra come Griglia di eventi connette origini e gestori, ma non è un elenco completo delle integrazioni supportate.

![Modello funzionale di Griglia di eventi di Azure](./media/concept-event-grid-integration/azure-event-grid-functional-model.png)

Per ulteriori informazioni sulle origini eventi e sui gestori eventi, vedere [Che cos'è Griglia di eventi?](/azure/event-grid/overview).

## <a name="azure-machine-learning-event-types"></a>Tipi di eventi di Azure Machine LearningAzure Machine Learning event types

Azure Machine Learning offre eventi nei vari punti del ciclo di vita dell'apprendimento automatico:Azure Machine Learning provides events in the various points of Machine learning lifecycle: 

| Tipo di evento | Descrizione |
| ---------- | ----------- |
| `Microsoft.MachineLearningServices.RunCompleted` | Generato al completamento dell'esecuzione di un esperimento di apprendimento automaticoRaised when a machine learning experiment run is completed |
| `Microsoft.MachineLearningServices.ModelRegistered` | Generato quando un modello di apprendimento automatico viene registrato nell'area di lavoroRaised when a machine learning model is registered in the workspace |
| `Microsoft.MachineLearningServices.ModelDeployed` | Generato quando viene completata una distribuzione del servizio di inferenza con uno o più modelliRaised when a deployment of inference service with one or more models is completed |
| `Microsoft.MachineLearningServices.DatasetDriftDetected` | Generato quando viene completato un processo di rilevamento della deriva dei dati per due set di datiRaised when a data drift detection job for two datasets |
| `Microsoft.MachineLearningServices.RunStatusChanged` | Generato quando lo stato di esecuzione è cambiato, attualmente generato solo quando uno stato di esecuzione è 'failed'Raised when a run status changed, currently only raised when a run status is 'failed' |

## <a name="subscribe-to-machine-learning-events"></a>Sottoscrivere gli eventi di Machine LearningSubscribe to Machine Learning events

Le sottoscrizioni per gli eventi di Azure Machine Learning sono protette dal controllo degli accessi in base al ruolo. Solo [il collaboratore o](how-to-assign-roles.md#default-roles) il proprietario di un'area di lavoro può creare, aggiornare ed eliminare sottoscrizioni di eventi.

Le sottoscrizioni di eventi possono essere filtrate in base a una varietà di condizioni. È possibile applicare filtri alle sottoscrizioni di eventi durante la [creazione](/cli/azure/eventgrid/event-subscription?view=azure-cli-latest) della sottoscrizione stessa o [in un secondo momento](/cli/azure/eventgrid/event-subscription?view=azure-cli-latest). 

### <a name="filter-by-event-type"></a>Filtrare in base al tipo di evento
Una sottoscrizione di eventi può specificare uno o più tipi di evento di Azure Machine Learning.An event subscription can specify one or more Azure Machine Learning event types.

### <a name="filter-by-event-subject"></a>Filtra per oggetto evento
Griglia di eventi di Azure supporta i filtri dell'oggetto in base __alle corrispondenze e alle__ corrispondenze, in modo che gli eventi con un oggetto corrispondente vengano recapitati al sottoscrittore. __ends with__ Eventi di apprendimento automatico diversi hanno un formato soggetto diverso.

| Tipo di evento | Formato dell'oggetto | Oggetto di esempio |
| ---------- | ----------- | ----------- |
| `Microsoft.MachineLearningServices.RunCompleted` | `experiments/{ExperimentId}/runs/{RunId}` | `experiments/b1d7966c-f73a-4c68-b846-992ace89551f/runs/my_exp1_1554835758_38dbaa94` |
| `Microsoft.MachineLearningServices.ModelRegistered` | `models/{modelName}:{modelVersion}` | `models/sklearn_regression_model:3` |
| `Microsoft.MachineLearningServices.ModelDeployed` | `endpoints/{serviceId}` | `endpoints/my_sklearn_aks` |
| `Microsoft.MachineLearningServices.DatasetDriftDetected` | `datadrift/{data.DataDriftId}/run/{data.RunId}` | `datadrift/4e694bf5-712e-4e40-b06a-d2a2755212d4/run/my_driftrun1_1550564444_fbbcdc0f` |
| `Microsoft.MachineLearningServices.RunStatusChanged` | `experiments/{ExperimentId}/runs/{RunId}` | `experiments/b1d7966c-f73a-4c68-b846-992ace89551f/runs/my_exp1_1554835758_38dbaa94` | 

### <a name="advanced-filtering"></a>Filtro avanzato

Griglia di eventi di Azure supporta anche il filtro avanzato basato sullo schema di eventi pubblicato. I dettagli dello schema di eventi di Azure Machine Learning sono disponibili nello schema di eventi Griglia di eventi di Azure per Azure Machine Learning.Azure Machine Learning event schema details can be found in [Azure Event Grid event schema for Azure Machine Learning](../event-grid/event-schema-machine-learning.md).

Alcuni filtri avanzati di esempio che è possibile eseguire includono:Some sample advanced filterings you can perform include:

* Per `Microsoft.MachineLearningServices.ModelRegistered` l'evento, per filtrare il valore del tag del modello:

    ```
    --advanced-filter data.ModelTags.key1 StringIn ('value1')
    ```

Per ulteriori informazioni su come applicare filtri, vedere [Filtrare gli eventi per Griglia di eventi](https://docs.microsoft.com/azure/event-grid/how-to-filter-events).

## <a name="consume-machine-learning-events"></a>Usare gli eventi di Machine LearningConsume Machine Learning events

Le applicazioni che gestiscono gli eventi di Machine Learning devono seguire alcune procedure consigliate:Applications that handle Machine Learning events should follow a few recommended practices:

> [!div class="checklist"]
> * Poiché più sottoscrizioni possono essere configurate per instradare gli eventi allo stesso gestore eventi, è importante non presupporre che gli eventi provengano da una determinata origine, ma controllare l'argomento del messaggio per assicurarsi che provenga dall'area di lavoro di Machine Learning prevista.
> * Controllare anche che il tipo di evento che si verifica, eventType, sia un oggetto che si è preparati a elaborare e non presupporre che tutti gli eventi che si ricevono siano dei tipi previsti.
> * Dal momento che i messaggi non arrivano in ordine e giungono con un po' di ritardo, usare i campi etag per verificare se le informazioni disponibili sugli oggetti sono ancora aggiornate.  È possibile usare anche i campi del sequencer per comprendere l'ordine degli eventi relativi a un oggetto specifico.
> * Ignorare i campi che non si conoscono. Questa procedura consentirà di rimanere flessibili alle nuove funzionalità che potrebbero essere aggiunte in futuro.
> * Le operazioni di Azure Machine Learning non riuscite o annullate non attiveranno un evento. Ad esempio, se una distribuzione del modello ha esito negativo Microsoft.MachineLearningServices.ModelDeployed non verrà attivato. Considerare tale modalità di errore durante la progettazione delle applicazioni. È sempre possibile usare Azure Machine Learning SDK, CLI o portale per controllare lo stato di un'operazione e comprendere i motivi di errore dettagliati.

Griglia di eventi di Azure consente ai clienti di creare gestori di messaggi disaccoppiati, che possono essere attivati dagli eventi di Azure Machine Learning.Azure Event Grid allows customers to build de-coupled message handlers, which can be triggered by Azure Machine Learning events. Alcuni esempi degni di nota di gestori di messaggi sono:Someable examples of message handlers are:
* Funzioni di Azure
* App per la logica di Azure
* Hub eventi di Azure
* Azure Data Factory Pipeline
* Webhook generici, che possono essere ospitati nella piattaforma Azure o altrove

## <a name="next-steps"></a>Passaggi successivi

Altre informazioni su Griglia di eventi e prova gli eventi di Azure Machine Learning:Learn more about Event Grid and give Azure Machine Learning events a try:

- [Informazioni sulla griglia di eventi](../event-grid/overview.md)
- [Azure Event Grid event schema for Azure Machine Learning](../event-grid/event-schema-machine-learning.md)
- [Creare flussi di lavoro basati su eventi con Azure Machine LearningCreate event driven workflows with Azure Machine Learning](how-to-use-event-grid.md)
