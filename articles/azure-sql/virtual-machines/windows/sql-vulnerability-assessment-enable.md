---
title: Valutazione della vulnerabilità di SQL per SQL Server in macchine virtuali di Azure
description: Viene descritta la valutazione della vulnerabilità SQL per i database SQL Server eseguiti in macchine virtuali di Azure.
services: virtual-machines-windows
author: MashaMSFT
ms.service: virtual-machines-sql
ms.subservice: security
ms.topic: conceptual
ms.tgt_pltfrm: vm-windows-sql-server
ms.workload: iaas-sql-server
ms.date: 12/02/2020
ms.author: mathoma
ms.openlocfilehash: 817203b8e795ce15c8c48c18bc7b9a46217dc93a
ms.sourcegitcommit: dfc4e6b57b2cb87dbcce5562945678e76d3ac7b6
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 12/12/2020
ms.locfileid: "97356716"
---
# <a name="sql-vulnerability-assessment-for-sql-server-on-azure-vms"></a>Valutazione della vulnerabilità di SQL per SQL Server in macchine virtuali di Azure
[!INCLUDE[appliesto-sqlvm](../../includes/appliesto-sqlvm.md)]

La valutazione della vulnerabilità di SQL è un servizio facile da configurare che consente di individuare, monitorare e risolvere potenziali vulnerabilità del database. Usare questa utilità per migliorare in modo proattivo la sicurezza del database per la SQL Server in macchine virtuali di Azure. 

La valutazione della vulnerabilità fa parte dell'offerta [Azure Defender for SQL](../../database/azure-defender-for-sql.md) , un pacchetto unificato per le funzionalità avanzate di sicurezza di SQL. La valutazione della vulnerabilità può essere accessibile e gestita tramite il portale di Azure Defender centrale per SQL o tramite il Centro sicurezza di Azure. 

## <a name="overview"></a>Panoramica

Valutazione della vulnerabilità di SQL (VA) è un servizio che offre visibilità sullo stato di sicurezza. La valutazione della vulnerabilità include passaggi utilizzabili per risolvere i problemi di sicurezza e migliorare la sicurezza del database. Può essere utile per: 

- Soddisfare i requisiti di conformità che richiedono report di analisi dei database. 
- Soddisfare gli standard per la privacy dei dati. 
- Monitorare un ambiente di database dinamico in cui è difficile tenere traccia delle modifiche. 

La valutazione della vulnerabilità è un servizio di analisi che usa una Knowledge base di regole che contrassegnano le vulnerabilità della sicurezza. Evidenzia le deviazioni dalle procedure consigliate, ad esempio configurazioni errate, autorizzazioni eccessive e dati sensibili non protetti. 

Le regole sono basate sulle procedure consigliate di Microsoft e si concentrano sui problemi di sicurezza che presentano i maggiori rischi per il database e i relativi dati importanti. Si tratta di problemi a livello di database e di sicurezza a livello di server, ad esempio le impostazioni del firewall del server e le autorizzazioni a livello di server. Queste regole rappresentano anche molti dei requisiti specificati da vari organismi normativi per soddisfare i relativi standard di conformità. 

I risultati dell'analisi includono le azioni applicabili per risolvere ogni problema, oltre a script di correzione personalizzati, ove applicabile. È possibile personalizzare un report di valutazione per l'ambiente impostando una baseline accettabile per: 

- Configurazioni delle autorizzazioni 
- Configurazioni delle funzionalità 
- Impostazioni database 

## <a name="enable-sql-va"></a>Abilita SQL VA

Abilitare Azure Defender per SQL Server nei computer per implementare la valutazione della vulnerabilità. 

Per usare Azure Defender per SQL Server, seguire questa procedura:

1. [Installare l'estensione SQL IaaS Agent](sql-agent-extension-manually-register-single-vm.md)
1. [Abilita provisioning automatico dell'agente di Log Analytics](../../../security-center/security-center-enable-data-collection.md#auto-provision-mma)
1. [Abilitare il piano del Centro sicurezza facoltativo](../../../security-center/defender-for-sql-usage.md#step-2-enable-the-optional-plan-in-security-centers-pricing-and-settings-page)

Poiché la valutazione della vulnerabilità fa parte di Azure Defender per SQL, quando Azure Defender è abilitato nella macchina virtuale, i database vengono automaticamente analizzati ogni 12 ore per identificare le vulnerabilità della sicurezza. I risultati vengono inviati al centro sicurezza di Azure per una visualizzazione aggregata centralizzata delle proprietà di dati SQL protette da Azure Defender per SQL. 

> [!NOTE]
> L'analisi è leggera, sicura, richiede solo pochi secondi per l'esecuzione del database ed è interamente di sola lettura. ovvero non apporta alcuna modifica nel database. 

## <a name="view-report"></a>Visualizzare report

Il report database presenta una panoramica dello stato di sicurezza. Elenca il numero di problemi trovati e i rispettivi livelli di gravità. I risultati includono avvisi sulle deviazioni dalle procedure consigliate e uno snapshot delle impostazioni relative alla sicurezza, ad esempio le entità di database e i ruoli e le autorizzazioni associate.  

Per visualizzare il report, attenersi alla seguente procedura:

1. Accedere al [Centro sicurezza di Azure](https://ms.portal.azure.com/#blade/Microsoft_Azure_Security/SecurityMenuBlade/0) nella portale di Azure.
1. Selezionare **raccomandazioni** dal menu **generale** : 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/recommendations-in-security-center.png" alt-text="Passare a raccomandazioni in impostazioni nel centro sicurezza di Azure dalla portale di Azure":::

1. Scorrere verso il basso fino a raccomandazioni ed espandere **monitora e aggiorna vulnerabilità**.
1. **È necessario correggere i risultati della valutazione della vulnerabilità in SQL Server nei computer**. 

   :::image type="content" source="media/sql-vulnerability-assessment-enable/report-in-security-center.png" alt-text="Visualizzare il report nel pannello delle raccomandazioni del Centro sicurezza di Azure":::

Questa pagina mostra un'aggregazione di vulnerabilità di sicurezza identificate per tutte le macchine virtuali SQL Server nella sottoscrizione. 


## <a name="analyze-results"></a>Analizzare i risultati

Esaminare i risultati e identificare i risultati nel report che sono veri problemi di sicurezza nell'ambiente in uso. Eseguire il drill-down per ogni risultato con errore per comprendere l'impatto della ricerca e il motivo per cui i controlli di sicurezza non sono riusciti.  

:::image type="content" source="media/sql-vulnerability-assessment-enable/sample-report.png" alt-text="Esaminare i risultati e identificare i risultati nel report che sono veri problemi di sicurezza nell'ambiente in uso.":::

## <a name="set-baseline"></a>Imposta previsione 

Quando si esaminano i risultati della valutazione, è possibile contrassegnare i risultati come una baseline accettabile nell'ambiente in uso. La baseline è essenzialmente una personalizzazione della modalità di visualizzazione dei risultati. I risultati corrispondenti alla baseline non vengono considerati problemi nelle analisi successive. Dopo aver stabilito lo stato di sicurezza della linea di base, la valutazione della vulnerabilità segnala solo le deviazioni dalla linea di base. In questo modo, è possibile concentrare l'attenzione sui problemi rilevanti. 

:::image type="content" source="media/sql-vulnerability-assessment-enable/analyze-report-for-details.png" alt-text="Quando si esaminano i risultati della valutazione, è possibile contrassegnare i risultati come una baseline accettabile nell'ambiente in uso.":::

## <a name="export-results"></a>Esportare i risultati

Usare la funzionalità di [esportazione continua](../../../security-center/continuous-export.md) del Centro sicurezza di Azure per esportare i risultati della valutazione della vulnerabilità nell'hub eventi di Azure o nell'area di lavoro log Analytics. 


## <a name="next-steps"></a>Passaggi successivi

Per altre informazioni, vedere [valutazione della vulnerabilità SQL in Azure SQL](../../database/sql-vulnerability-assessment.md)e [difendere i dati SQL tramite il Centro sicurezza di Azure](../../../security-center/security-center-introduction.md).

