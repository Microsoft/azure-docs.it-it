---
title: Ciclo di vita e Stati di una macchina virtuale in Azure
description: Panoramica del ciclo di vita di una macchina virtuale in Azure, incluse le descrizioni dei diversi stati in cui una macchina virtuale può trovarsi in qualsiasi momento.
services: virtual-machines
author: shandilvarun
ms.service: virtual-machines
ms.topic: conceptual
ms.workload: infrastructure-services
ms.date: 08/09/2018
ms.author: vashan
ms.openlocfilehash: 127604264850f9845846d0bb6a2768cac23cdc8c
ms.sourcegitcommit: c28fc1ec7d90f7e8b2e8775f5a250dd14a1622a6
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 08/13/2020
ms.locfileid: "88169156"
---
# <a name="virtual-machines-lifecycle-and-states"></a>Stati e ciclo di vita di macchine virtuali

Per Macchine virtuali di Azure (VM) sono previsti vari stati che possono essere categorizzati come stati di *provisioning* e di *alimentazione*. Lo scopo di questo articolo è descrivere questi stati e sottolineare in particolare quando viene addebitato l'utilizzo delle istanze ai clienti. 

## <a name="power-states"></a>Stati di alimentazione

Lo stato di alimentazione rappresenta l'ultimo stato noto della macchina virtuale.

![Diagramma degli stati di alimentazione della macchina virtuale](./media/vm-power-states.png)

<br>
La tabella seguente include una descrizione di ogni stato dell'istanza e indica se tale stato genera o meno un addebito per l'utilizzo dell'istanza.

<table>
<tr>
<th>
State
</th>
<th>
Descrizione
</th>
<th>
Fatturazione dell'utilizzo dell'istanza
</th>
</tr>
<tr>
<td>
<p><b>Avvio in corso</b></p>
</td>
<td>
<p>Avvio della macchina virtuale in corso.</p>
<code>"statuses": [<br>
   {<br>
      "code": "PowerState/starting",<br>
       "level": "Info",<br>
        "displayStatus": "VM starting"<br>
    }<br>
    ]</code><br>
</td>
<td>
<p><b>Non fatturato</b></p>
</td>
</tr>
<tr>
<td>
<p><b>Running</b></p>
</td>
<td>
<p>Stato di funzionamento normale per una macchina virtuale</p>
<code>"statuses": [<br>
 {<br>
 "code": "PowerState/running",<br>
 "level": "Info",<br>
 "displayStatus": "VM running"<br>
 }<br>
 ]</code><br>
</td>
<td>
<p><b>Fatturato</b></p>
</td>
</tr>
<tr>
<td>
<p><b>Stopping</b></p>
</td>
<td>
<p>Si tratta di uno stato transitorio. Al termine, verrà visualizzato lo stato **Arrestato**.</p>
<code>"statuses": [<br>
 {<br>
 "code": "PowerState/stopping",<br>
 "level": "Info",<br>
 "displayStatus": "VM stopping"<br>
 }<br>
 ]</code><br>
</td>
<td>
<p><b>Fatturato</b></p>
</td>
</tr>
<tr>
<td>
<p><b>Arrestato</b></p>
</td>
<td>
<p>La macchina virtuale è stato chiusa dall'interno del sistema operativo guest o tramite le API PowerOff.</p>
<p>L'hardware è ancora allocata alla macchina virtuale e rimane nell'host. </p>
<code>"statuses": [<br>
 {<br>
 "code": "PowerState/stopped",<br>
 "level": "Info",<br>
 "displayStatus": "VM stopped"<br>
 }<br>
 ]</code><br>
</td>
<td>
<p><b>Fatturato&#42;</b></p>
</td>
</tr>
<tr>
<td>
<p><b>Deallocazione</b></p>
</td>
<td>
<p>Stato transitorio. Al termine, lo stato visualizzato per la macchina virtuale sarà **Deallocato**.</p>
<code>"statuses": [<br>
 {<br>
 "code": "PowerState/deallocating",<br>
 "level": "Info",<br>
 "displayStatus": "VM deallocating"<br>
 }<br>
 ]</code><br>
</td>
<td>
<p><b>Non fatturato&#42;</b></p>
</td>
</tr>
<tr>
<td>
<p><b>Deallocato</b></p>
</td>
<td>
<p>La macchina virtuale è stata arrestata correttamente e rimossa dall'host. </p>
<code>"statuses": [<br>
 {<br>
 "code": "PowerState/deallocated",<br>
 "level": "Info",<br>
 "displayStatus": "VM deallocated"<br>
 }<br>
 ]</code><br>
</td>
<td>
<p><b>Non fatturato</b></p>
</td>
</tr>
</tbody>
</table>


&#42;Alcune risorse di Azure, ad esempio dischi e rete, comportano l'addebito di costi. Le licenze software nell'istanza non comportano l'addebito di costi.

## <a name="provisioning-states"></a>Stati di provisioning

Uno stato di provisioning è lo stato di un'operazione del piano di controllo avviata dall'utente sulla macchina virtuale. Questi stati sono separati dallo stato di alimentazione di una macchina virtuale.

- **Crea**: creazione della macchina virtuale.

- **Aggiorna**: aggiorna il modello per una macchina virtuale esistente. Rientrano nello stato di aggiornamento anche alcune modifiche della macchina virtuale che non riguardano il modello, come avvio/riavvio.

- **Elimina**: eliminazione della macchina virtuale.

- **Dealloca**: quando una macchina virtuale viene arrestata e rimossa dall'host. La deallocazione di una macchina virtuale viene considerata un aggiornamento, quindi verranno visualizzati stati di provisioning correlati all'aggiornamento.



Di seguito sono indicati gli stati operativi transitori dopo che la piattaforma ha accettato un'azione avviata dall'utente:

<br>

<table>
<tbody>
<tr>
<td width="162">
<p><b>Stati</b></p>
</td>
<td width="366">
<p>Descrizione</p>
</td>
</tr>
<tr>
<td width="162">
<p><b>Creating</b></p>
</td>
<td width="366">
<code>"statuses": [<br>
 {<br>
 "code": "ProvisioningState/creating",<br>
 "level": "Info",<br>
 "displayStatus": "Creating"<br>
 }</code><br>
</td>
</tr>
<tr>
<td width="162">
<p><b>Aggiornamento</b></p>
</td>
<td width="366">
<code>"statuses": [<br>
 {<br>
 "code": "ProvisioningState/updating",<br>
 "level": "Info",<br>
 "displayStatus": "Updating"<br>
 }<br>
 ]</code><br>
</td>
</tr>
<tr>
<td width="162">
<p><b>Deleting</b></p>
</td>
<td width="366">
<code>"statuses": [<br>
 {<br>
 "code": "ProvisioningState/deleting",<br>
 "level": "Info",<br>
 "displayStatus": "Deleting"<br>
 }<br>
 ]</code><br>
</td>
</tr>
<tr>
<td width="162">
<p><b>Stati di provisioning del sistema operativo</b></p>
</td>
<td width="366">
<p>Se viene creata una VM con un'immagine del sistema operativo e non con un'immagine specializzata, possono essere indicati i sottostati seguenti:</p>
<p>1. <b>OSProvisioningInprogress</b> &ndash; La macchina virtuale è in esecuzione e l'installazione del sistema operativo guest è in corso. <p /> 
<code> "statuses": [<br>
 {<br>
 "code": "ProvisioningState/creating/OSProvisioningInprogress",<br>
 "level": "Info",<br>
 "displayStatus": "OS Provisioning In progress"<br>
 }<br>
]</code><br>
<p>2. <b>OSProvisioningComplete</b> &ndash; Stato di breve durata. La macchina virtuale passa rapidamente allo stato **Operazione riuscita** a meno che non sia necessario installare estensioni. L'installazione delle estensioni può richiedere tempo. <br />
<code> "statuses": [<br>
 {<br>
 "code": "ProvisioningState/creating/OSProvisioningComplete",<br>
 "level": "Info",<br>
 "displayStatus": "OS Provisioning Complete"<br>
 }<br>
]</code><br>
<p><b>Nota</b>: il provisioning del sistema operativo può passare allo stato **Operazione non riuscita** in presenza di un errore del sistema operativo o se il sistema operativo non viene installato in tempo. I clienti riceveranno un addebito per la macchina virtuale distribuita nell'infrastruttura.</p>
</td>
</tr>
</table>


Una volta completata l'operazione, la macchina virtuale passerà a uno degli stati seguenti:

- **Operazione riuscita** - Le azioni avviate dall'utente sono state completate.

    ```
  "statuses": [ 
  {
     "code": "ProvisioningState/succeeded",
     "level": "Info",
     "displayStatus": "Provisioning succeeded",
     "time": "time"
  }
  ]
    ```

 

- **Operazione non riuscita** - Rappresenta un'operazione non completata. Vedere i codici di errore per ottenere altre informazioni e possibili soluzioni.

    ```
  "statuses": [
    {
      "code": "ProvisioningState/failed/InternalOperationError",
      "level": "Error",
      "displayStatus": "Provisioning failed",
      "message": "Operation abandoned due to internal error. Please try again later.",
      "time": "time"
    }
    ]
    ```



## <a name="vm-instance-view"></a>Visualizzazione dell'istanza della macchina virtuale

L'API per la visualizzazione dell'istanza fornisce informazioni sullo stato di esecuzione della macchina virtuale. Per altre informazioni, vedere la documentazione dell'API [Virtual Machines - Instance View](https://docs.microsoft.com/rest/api/compute/virtualmachines/instanceview) (Macchine virtuali - Visualizzazione istanza).

Azure Resource Explorer offre una semplice interfaccia utente per visualizzare lo stato di esecuzione della macchina virtuale: [Resource Explorer](https://resources.azure.com/).

Gli stati di provisioning sono visibili nelle proprietà della macchina virtuale e nella visualizzazione dell'istanza. Gli stati di alimentazione sono disponibili nella visualizzazione dell'istanza di macchina virtuale.

## <a name="next-steps"></a>Passaggi successivi

Per altre informazioni sul monitoraggio della VM, vedere [monitorare le macchine virtuali in Azure](../azure-monitor/insights/monitor-vm-azure.md).