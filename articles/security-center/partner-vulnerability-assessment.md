---
title: Scanner di vulnerabilità partner nel centro sicurezza di Azure
description: Il Centro sicurezza di Azure supporta l'integrazione di soluzioni di valutazione della vulnerabilità di terze parti. Questo articolo descrive come configurare questi strumenti.
services: security-center
documentationcenter: na
author: memildin
manager: rkarlin
ms.service: security-center
ms.devlang: na
ms.topic: conceptual
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 12/13/2019
ms.author: memildin
ms.openlocfilehash: ac68e5a91f72954ce54892f22ab5ba3a7a593bbf
ms.sourcegitcommit: 50ef5c2798da04cf746181fbfa3253fca366feaa
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 04/30/2020
ms.locfileid: "82611433"
---
# <a name="deploying-a-partner-vulnerability-scanning-solution"></a>Distribuzione di una soluzione di analisi delle vulnerabilità dei partner

Se si usa il livello standard, è possibile usare lo strumento di valutazione della vulnerabilità incorporato del Centro sicurezza di Azure, come descritto in [scanner di vulnerabilità integrato per le macchine virtuali](built-in-vulnerability-assessment.md). Questo strumento non richiede una licenza Qualys o anche un account Qualys. tutto viene gestito senza interruzioni all'interno del Centro sicurezza.

In alternativa, potrebbe essere necessario distribuire una soluzione di valutazione della vulnerabilità con licenza privata da [Qualys](https://www.qualys.com/lp/azure) o [Rapid7](https://www.rapid7.com/products/insightvm/). È possibile installare una di queste soluzioni partner su più macchine virtuali che appartengono alla stessa sottoscrizione.

## <a name="configuring-a-partner-solution-in-the-azure-portal"></a>Configurazione di una soluzione partner (nella portale di Azure)

1. Nel dashboard **Centro sicurezza** fare clic su **Raccomandazioni** nella sezione **Panoramica**.

1. Nella pagina **raccomandazioni** selezionare la **soluzione di valutazione della vulnerabilità da installare nelle macchine virtuali**.

    ![Valutazione della vulnerabilità](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig1-new.png)

1. Nella pagina **macchine virtuali della soluzione di valutazione della vulnerabilità** selezionare le VM in cui si vuole installare la soluzione di valutazione della vulnerabilità.

    ![Pagina Aggiungi una soluzione di valutazione della vulnerabilità](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig2-new.png)

1. Nella pagina **macchine virtuali della soluzione di valutazione della vulnerabilità** , fare clic su **installa in 2 VM** . il nome potrebbe variare in base al numero di macchine virtuali selezionate:

    ![Pagina per l'aggiunta della valutazione della vulnerabilità](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig3-new.png)

1. È possibile creare una nuova valutazione della vulnerabilità oppure usare una soluzione esistente. Se si crea una nuova valutazione della vulnerabilità, è possibile selezionare una soluzione partner in **Azure Marketplace**. In alternativa, in **Usa la soluzione esistente** selezionare **Qualys** o **Rapid7**.

    Per distribuire l'agente dal Centro sicurezza, sono necessari un codice di licenza e una chiave pubblica del fornitore. Per informazioni su come ottenere il codice di licenza e la chiave pubblica, vedere la [documentazione di Qualys](https://community.qualys.com/docs/DOC-5823-deploying-qualys-cloud-agents-from-microsoft-azure-security-center) o la [documentazione di Rapid7](https://insightvm.help.rapid7.com/docs/azure-security-center).


1. Per creare una nuova valutazione, fare clic su **Crea nuovo**. Si apre la pagina di **gestione delle vulnerabilità** del partner. Le opzioni visualizzate in questa pagina possono variare a seconda del partner.

    ![Creare una nuova soluzione di valutazione della vulnerabilità](./media/security-center-vulnerability-assessment-recommendations/security-center-vulnerability-assessment-fig4-new.png)

    Per configurare Qualys, ad esempio, selezionare **Qualys** quindi:
    
    1. Per **Gruppo di risorse** selezionare **Usa esistente**.
    
    1. Per **Località** selezionare la località geografica in cui si trova la soluzione.
    
    1. Nella casella **Codice di licenza**, specifica di Qualys, immettere la licenza fornita dal partner.
    
    1. Nella casella **Chiave pubblica**, specifica di Qualys, immettere le informazioni di chiave pubblica fornite dal partner.
    
    1. Per installare automaticamente un agente di valutazione della vulnerabilità in tutte le VM individuate nella sottoscrizione di questa soluzione Qualys, selezionare la casella di controllo **aggiornamento automatico** .
    
    1. Fare clic su **OK**.


## <a name="configuring-a-partner-solution-using-powershell-and-the-rest-api"></a>Configurazione di una soluzione partner (tramite PowerShell e l'API REST)

Per a livello distribuire una soluzione di valutazione della vulnerabilità con licenza privata da [Qualys](https://www.qualys.com/lp/azure) o [Rapid7](https://www.rapid7.com/products/insightvm/), usare lo script fornito da [PowerShell > soluzione di vulnerabilità](https://github.com/Azure/Azure-Security-Center/tree/master/Powershell%20scripts/Vulnerability%20Solution). 

Questo script usa l'API REST per creare una nuova soluzione di sicurezza in ASC. La soluzione richiede una licenza e una chiave fornita dal provider di servizi: Qualys o Rapid7.

> [!IMPORTANT] 
> Per ogni licenza è possibile creare una sola soluzione. Il tentativo di creare un'altra soluzione con lo stesso nome/licenza/chiave avrà esito negativo.

### <a name="prerequisites"></a>Prerequisiti

Moduli di PowerShell necessari:

- Install-module AZ
- Install-module AZ. Security

### <a name="running-the-script"></a>Esecuzione dello script

Per eseguire lo script, sono necessarie le informazioni rilevanti per i parametri riportati di seguito.

| **Parametro** | **Richiesto** | **Note** |
|----|:----:|----|
|**SubscriptionId**|✔|SubscriptionID della sottoscrizione di Azure che contiene le risorse che si desidera analizzare.|
|**ResourceGroupName**|✔|Nome del gruppo di risorse. Usare qualsiasi gruppo di risorse esistente, incluso il valore predefinito ("DefaultResourceGroup-xxx"). Poiché la soluzione non è una risorsa di Azure, non sarà elencata nel gruppo di risorse, ma è ancora collegata.|
|**vaSolutionName**|✔|Nome della nuova soluzione.|
|**vaType**|✔|Qualys o Rapid7.|
|**licenceCode**|✔|Stringa di licenza fornita dal fornitore.|
|**publicKey**|✔|Chiave pubblica fornita dal fornitore.|
|**autoUpdate**|-|Abilitare (true) o disabilitare (false) la distribuzione automatica per questa soluzione VA. Se abilitata, ogni nuova VM nella sottoscrizione tenterà automaticamente di eseguire il collegamento alla soluzione.<br/>(Impostazione predefinita: false)|


Sintassi:

```
.\New-ASCVASolution.ps1 -subscriptionId <Subscription Id> -resourceGroupName <RG Name>
-vaSolutionName <New solution name> -vaType <Qualys / Rapid7> -autoUpdate <true/false>
-licenceCode <License code from vendor> -publicKey <Public Key received from vendor>
```

Esempio (questo esempio non include i dettagli della licenza validi):

```
.\New-ASCVASolution.ps1 -subscriptionId 'f4cx1b69-dtgb-4ch6-6y6f-ea2e95373d3b' -resourceGroupName 'DefaultResourceGroup-WEU' -vaSolutionName 'QualysVa001' -vaType 'Qualys' -autoUpdate 'false' `
-licenceCode 'eyJjaWQiOiJkZDg5OTYzXe4iMTMzLWM4NTAtODM5FD2mZWM1N2Q3ZGU5MjgiLCJgbTYuOiIyMmM5NDg3MS1lNTVkLTQ1OGItYjhlMC03OTRhMmM3YWM1ZGQiLCJwd3NVcmwiOiJodHRwczovL3FhZ3B1YmxpYy1wMDEuaW50LnF1YWx5cy5jb20vQ2xvdSKJY6VudC8iLCJwd3NQb3J0IjoiNDQzIn0=' `
-publicKey 'MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCOiOLXjOywMfLZIBGPZLwSocf1Q64GASLK9OHFEmanBl1nkJhZDrZ4YD5lM98fThYbAx1Rde2iYV1ze/wDlX4cIvFAyXuN7HbdkeIlBl6vWXEBZpUU17bOdJOUGolzEzNBhtxi/elEZLghq9Chmah82me/okGMIhJJsCiTtglVQIDAQAB'
```


## <a name="review-the-recommendation"></a>Verificare la raccomandazione
Dopo aver installato la soluzione di valutazione della vulnerabilità nella VM di destinazione, il Centro sicurezza esegue l'analisi della macchina virtuale per rilevare e identificare le vulnerabilità nel sistema e nell'applicazione.

> [!NOTE]
> Il completamento della prima analisi potrebbe richiedere circa due ore. Successivamente si tratterà di un processo orario.

I problemi rilevati vengono visualizzati nelle **raccomandazioni sulle macchine virtuali**.

## <a name="next-steps"></a>Passaggi successivi

Questo articolo descrive lo strumento di valutazione della vulnerabilità incorporato basato su Qualys per l'analisi delle macchine virtuali. Per materiale correlato, vedere gli articoli seguenti:

- [Informazioni sui diversi elementi di un'indicazione](security-center-recommendations.md)
- [Scopri come correggere le raccomandazioni](security-center-remediate-recommendations.md)