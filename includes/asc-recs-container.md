---
author: memildin
ms.service: security-center
ms.topic: include
ms.date: 03/14/2021
ms.author: memildin
ms.custom: generated
ms.openlocfilehash: 4a03a36f098035db1a91b4516dedb6a303aa41d2
ms.sourcegitcommit: 772eb9c6684dd4864e0ba507945a83e48b8c16f0
ms.translationtype: MT
ms.contentlocale: it-IT
ms.lasthandoff: 03/20/2021
ms.locfileid: "103466166"
---
Questa categoria contiene **24** raccomandazioni.

|Recommendation |Descrizione |Gravità |
|---|---|---|
|Azure Defender per i registri contenitori deve essere abilitato |Per creare carichi di lavoro in contenitori sicuri, assicurarsi che le immagini su cui sono basati non presentino vulnerabilità note.<br>Azure Defender per registri contenitori analizza il registro per rilevare vulnerabilità di sicurezza in ogni immagine del contenitore sottoposta a push ed espone risultati dettagliati per ogni immagine.<br>Per migliorare il comportamento di sicurezza dei contenitori e proteggerli da attacchi, abilitare Azure Defender per registri contenitori.<br><br>Importante: la correzione in base a questa raccomandazione comporterà addebiti per la protezione dei registri contenitori. Se nella sottoscrizione non sono presenti registri contenitori, non verranno applicati addebiti.<br>Se in futuro si creano registri contenitori nella sottoscrizione, tali registri saranno protetti automaticamente e l'applicazione degli addebiti avrà inizio in tale momento.<br> <a href='https://docs.microsoft.com/azure/security-center/azure-container-registry-integration'>Altre informazioni su Azure Defender per registri contenitori.</a><br />(criterio correlato: [Azure Defender per i registri contenitori deve essere abilitato](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fmicrosoft.authorization%2fpolicyDefinitions%2fc25d9a16-bc35-4e15-a7e5-9db606bf9ed4)) |Alto |
|Azure Defender per Kubernetes deve essere abilitato |Azure Defender per Kubernetes fornisce protezione dalle minacce in tempo reale per gli ambienti containerizzati e genera avvisi per le attività sospette.<br>È possibile usare queste informazioni per risolvere rapidamente i problemi di sicurezza e migliorare la sicurezza dei contenitori.<br><br>Importante: la correzione di questa raccomandazione comporterà addebiti per la protezione dei cluster Kubernetes. Se nella sottoscrizione non sono presenti cluster Kubernetes, non verranno applicati addebiti.<br>Se in futuro si creano cluster Kubernetes nella sottoscrizione, tali cluster saranno protetti automaticamente e l'applicazione degli addebiti avrà inizio in tale momento.<br> <a href='https://docs.microsoft.com/azure/security-center/azure-kubernetes-service-integration'>Altre informazioni su Azure Defender per Kubernetes.</a><br />(criterio correlato: [Azure Defender per Kubernetes deve essere abilitato](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fmicrosoft.authorization%2fpolicyDefinitions%2f523b5cd1-3e23-492f-a539-13118b6d1e3a)) |Alto |
|È consigliabile installare e abilitare il componente aggiuntivo Criteri di Azure per Kubernetes nei cluster |Il componente aggiuntivo Criteri di Azure per il servizio Azure Kubernetes estende <a target="_blank" href="https://github.com/open-policy-agent/gatekeeper">Gatekeeper</a> v3, un webhook del controller di ammissione per <a target="_blank" href="https://www.openpolicyagent.org/">Open Policy Agent</a> (OPA), per applicare le tutele e misure di sicurezza su larga scala per i cluster in modo centralizzato e coerente.<p>Il Centro sicurezza richiede il componente aggiuntivo per controllare e imporre le funzionalità di sicurezza e la conformità nei cluster. <a target="_blank" href="https://docs.microsoft.com/azure/governance/policy/concepts/policy-for-kubernetes"> Altre informazioni</a>.</p><p>Richiede Kubernetes v1.14.0 o versione successiva.</p><br />(criterio correlato: [Il componente aggiuntivo Criteri di Azure per il servizio Azure Kubernetes deve essere installato e abilitato nei cluster](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f0a15ec92-a229-4763-bb14-0ea34a568f8d)) |Alto |
|È consigliabile applicare limiti per la CPU e la memoria dei contenitori |L'applicazione dei limiti per CPU e memoria previene attacchi con esaurimento delle risorse, ovvero una forma di attacchi Denial of Service.<p>È consigliabile configurare limiti per i contenitori, in modo da assicurare che il runtime impedisca al contenitore di usare un numero di risorse superiore al limite configurato.</p><br />(criterio correlato: [Assicura che i limiti delle risorse per CPU e memoria dei contenitori non superino i limiti specificati nel cluster Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fe345eecc-fa47-480f-9e88-67dcc122b164)) |Media |
|Le immagini del contenitore devono essere distribuite solo da registri attendibili |È consigliabile che le immagini in esecuzione nel cluster Kubernetes provengano da registri di immagini del contenitore noti e monitorati. I registri affidabili riducono il rischio di esposizione del cluster limitando la probabilità di introduzione di vulnerabilità sconosciute, problemi di sicurezza e immagini dannose.<br />(criterio correlato: [Verifica che solo le immagini dei contenitori consentite siano in esecuzione nel cluster Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ffebd0533-8e55-448f-b837-bd0e06f16469)) |Alto |
|I registri contenitori devono essere crittografati con una chiave gestita dal cliente |Usare le chiavi gestite dal cliente per gestire la crittografia dei dati inattivi del contenuto dei registri. Per impostazione predefinita, i dati inattivi sono crittografati tramite chiavi gestite dal servizio, ma in genere sono richieste chiavi gestite dal cliente per soddisfare gli standard di conformità alle normative. Le chiavi gestite dal cliente consentono di crittografare i dati con una chiave di Azure Key Vault creata dall'utente e di sua proprietà. L'utente dispone del controllo completo e della piena responsabilità in merito al ciclo di vita della chiave, incluse le operazioni di rotazione e gestione. Per altre informazioni sulla crittografia con chiavi gestite dal cliente, vedere https://aka.ms/acr/CMK.<br />(Criterio correlato: i [registri contenitori devono essere crittografati con una chiave gestita dal cliente (CMK)](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f5b9159ae-1701-4a6f-9a7a-aa9c8ddd0580)) |Medio |
|I registri contenitori non devono consentire l'accesso alla rete senza restrizioni |Per impostazione predefinita, i Registri Azure Container accettano le connessioni tramite Internet dagli host in qualsiasi rete. Per proteggere i registri da potenziali minacce, consentire l'accesso solo da indirizzi o intervalli di indirizzi IP pubblici specifici. Se nel registro non sono configurate regole del firewall o IP o una rete virtuale, il registro verrà visualizzato nelle risorse non integre. Per altre informazioni sulle regole di rete per il Registro Azure Container, vedere https://aka.ms/acr/portal/public-network e https://aka.ms/acr/vnet.<br />(Criterio correlato: i [registri contenitori non devono consentire l'accesso alla rete senza restrizioni](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fd0793b48-0edc-4296-a390-4c75d1bdfd71)) |Medio |
|I registri contenitori devono usare collegamenti privati |Collegamento privato di Azure consente di connettere la rete virtuale ai servizi di Azure senza un indirizzo IP pubblico nell'origine o nella destinazione. La piattaforma del collegamento privato gestisce la connettività tra il consumer e i servizi tramite la rete backbone di Azure. Il mapping degli endpoint privati ai soli registri contenitori anziché all'intero servizio, garantisce la protezione dai rischi di perdita dei dati. Per altre informazioni, vedere https://aka.ms/acr/private-link.<br />(Criterio correlato: i [registri contenitori devono usare il collegamento privato](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fe8eef0a8-67cf-4eb4-9386-14b0e78733d4)) |Medio |
|È consigliabile evitare i contenitori con escalation dei privilegi |È consigliabile non eseguire i contenitori con escalation dei privilegi nella radice nel cluster Kubernetes.<br>L'attributo AllowPrivilegeEscalation consente di determinare se un processo può ottenere più privilegi rispetto al processo padre.<br />(criterio correlato: [I cluster Kubernetes non devono consentire l'escalation dei privilegi dei contenitori](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f1c6e92c9-99f0-4e55-9cf2-0c234dc48f99)) |Media |
|I contenitori che condividono spazi dei nomi host sensibili devono essere evitati |Per assicurare la protezione dall'escalation dei privilegi all'esterno del contenitore, evitare l'accesso del pod agli spazi dei nomi host sensibili (ID processo host e IPC host) in un cluster Kubernetes.<br />(criterio correlato: [I contenitori del cluster Kubernetes non devono condividere lo spazio dei nomi IPC host o ID processo host](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f47a1ee2f-2a2a-4576-bf2a-e0e36709c2b8)) |Media |
|I contenitori devono essere in ascolto solo sulle porte consentite |Per ridurre la superficie di attacco del cluster Kubernetes, limitare l'accesso al cluster limitando l'accesso dei contenitori alle porte configurate.<br />(criterio correlato: [Verifica che i contenitori siano in ascolto solo sulle porte consentite nel cluster Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f440b515e-a580-421e-abeb-b159a61ddcbc)) |Media |
|Per i contenitori deve essere imposto il file system radice non modificabile (di sola lettura) |È consigliabile che i contenitori vengano eseguiti con un file system di sola lettura nel cluster Kubernetes. Il file system non modificabile protegge i contenitori dalle modifiche in fase di esecuzione con aggiunta di file binari dannosi a PATH.<br />(criterio correlato: [I contenitori del cluster Kubernetes devono essere eseguiti con un file system radice di sola lettura](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fdf49d893-a74c-421d-bc95-c663042e5b80)) |Media |
|I cluster Kubernetes devono essere accessibili solo tramite HTTPS |L'uso di HTTPS assicura l'autenticazione e protegge i dati in transito da attacchi di intercettazione a livello di rete. Questa funzionalità è attualmente disponibile a livello generale per il servizio Kubernetes (AKS) e in anteprima per il motore AKS e Azure Arc abilitato Kubernetes. Per ulteriori informazioni, visitare il https://aka.ms/kubepolicydoc<br />(Criterio correlato: applicare il traffico [in ingresso HTTPS nel cluster Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f1a5b4dca-0b6f-4cf5-907c-56316bc1bf3d)) |Alto |
|Il server API di gestione dei servizi Kubernetes deve essere configurato con accesso limitato |Per garantire che solo le applicazioni da reti, computer o subnet consentite possano accedere al cluster, limitare l'accesso al server Kubernetes API Gestione dei servizi. È possibile limitare l'accesso definendo intervalli IP autorizzati o configurando i server API come cluster privati, come illustrato in <a target='_blank' href=https://docs.microsoft.com/azure/aks/private-clusters>https://docs.microsoft.com/azure/aks/private-clusters</a> .<br />(criterio correlato: [Gli intervalli IP autorizzati devono essere definiti nei servizi Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f0e246bcf-5f6f-4f87-bc6f-775d4712c7ea)) |Alto |
|I servizi Kubernetes devono essere aggiornati a una versione di Kubernetes non vulnerabile |Aggiornare il cluster del servizio Kubernetes a una versione più recente di Kubernetes per proteggersi dalle vulnerabilità note nella versione corrente di Kubernetes. È stata applicata una patch per la vulnerabilità <a target='_blank' href='https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2019-9946'>CVE-2019-9946</a> nelle versioni di Kubernetes 1.11.9+, 1.12.7+, 1.13.5+ e 1.14.0+<br />(criterio correlato: [I servizi Kubernetes devono essere aggiornati a una versione di Kubernetes non vulnerabile](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ffb893a29-21bb-418c-a157-e99480ec364c)) |Alto |
|Per i contenitori devono essere imposte le funzionalità Linux con privilegi minimi |Per ridurre la superficie di attacco del contenitore, limitare le funzionalità di Linux e concedere privilegi specifici ai contenitori senza concedere tutti i privilegi dell'utente radice. È consigliabile rimuovere tutte le funzionalità, quindi aggiungere quelle necessarie<br />(criterio correlato: [I contenitori del cluster Kubernetes devono usare solo i privilegi consentiti](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fc26596ff-4d70-4e6a-9a30-c2506bd2f80c)) |Media |
|La sovrascrittura o la disabilitazione del profilo AppArmor dei contenitori deve essere limitata |È consigliabile limitare i contenitori in esecuzione nei cluster Kubernetes solo ai profili di AppArmor.<br>; AppArmor (Application Armor) è un modulo di sicurezza Linux che protegge un sistema operativo e le relative applicazioni dalle minacce per la sicurezza. Per usarlo, un amministratore di sistema associa un profilo di sicurezza di AppArmor a ogni programma.<br />(criterio correlato: [I contenitori del cluster Kubernetes devono usare solo i profili AppArmor consentiti](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f511f5417-5d12-434d-ab2e-816901e72a5e)) |Alto |
|I contenitori con privilegi devono essere evitati |Per impedire l'accesso senza limitazioni all'host, è consigliabile evitare quando possibile i contenitori con privilegi.<p>I contenitori con privilegi hanno tutte le funzionalità radice di un computer host. Possono essere usati come punti di ingresso per attacchi e per diffondere codice dannoso o malware nelle applicazioni, nelle reti e negli host compromessi.</p><br />(criterio correlato: [Non consentire contenitori con privilegi nel cluster Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f95edb821-ddaf-4404-9732-666045e056b4)) |Media |
|È consigliabile usare il Controllo degli accessi in base al ruolo nei servizi Kubernetes |Per garantire un filtro granulare per le azioni che gli utenti possono eseguire, usare il controllo degli accessi in base al ruolo per gestire le autorizzazioni nei cluster del servizio Kubernetes e configurare i criteri di autorizzazione pertinenti. Per altre informazioni, vedere <a target='_blank' href='https://docs.microsoft.com/azure/aks/concepts-identity#role-based-access-controls-rbac'>Controllo degli accessi in base al ruolo di Azure</a>.<br />(criterio correlato: [È consigliabile usare il Controllo degli accessi in base al ruolo nei servizi Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2fac4a19c2-fa67-49b4-8ae5-0b2e78c49457)) |Alto |
|È consigliabile evitare l'esecuzione di contenitori come utente radice |È consigliabile eseguire i contenitori come utenti non radice nel cluster Kubernetes. L'esecuzione di un processo come utente radice in un contenitore lo esegue come radice nell'host. In caso di compromissione, un utente malintenzionato ottiene la radice nel contenitore ed eventuali errori di configurazione diventano facili da sfruttare.<br />(criterio correlato: [I pod e i contenitori del cluster Kubernetes devono essere eseguiti solo con ID utente e gruppo approvati](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2ff06ddb64-5fa3-4b77-b166-acb36f7f6042)) |Alto |
|I servizi devono essere in ascolto solo sulle porte consentite |Per ridurre la superficie di attacco del cluster Kubernetes, limitare l'accesso al cluster limitando l'accesso dei servizi alle porte configurate.<br />(criterio correlato: [Verifica che i servizi siano in ascolto solo sulle porte consentite nel cluster Kubernetes](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f233a2a17-77ca-4fb1-9b6b-69223d272a44)) |Media |
|L'utilizzo della rete host e delle porte deve essere limitato |Limitare l'accesso dei pod alla rete host e all'intervallo di porte host consentito in un cluster Kubernetes. I pod creati con l'attributo hostNetwork abilitato condividono lo spazio di rete del nodo. Per evitare che un contenitore compromesso analizzi il traffico di rete, è consigliabile non inserire i pod nella rete host. Se è necessario esporre una porta del contenitore sulla rete del nodo e l'uso di una porta del nodo del servizio Kubernetes non soddisfa le esigenze, un'altra possibilità consiste nel specificare un Portahost per il contenitore nella specifica pod.<br />(criterio correlato: [I pod del cluster Kubernetes devono usare solo la rete host e l'intervallo di porte approvati](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f82985f06-dc18-4a48-bc1c-b9f4f0098cfe)) |Media |
|L'utilizzo dei montaggi dei volumi HostPath dei pod deve essere limitato a un elenco noto per limitare l'accesso ai nodi da contenitori compromessi |È consigliabile limitare i montaggi volume HostPath dei pod nel cluster Kubernetes ai percorsi host consentiti configurati. In caso di compromissione, è consigliabile limitare l'accesso al nodo del contenitore da parte dei contenitori<br />(criterio correlato: [I volumi hostPath dei pod del cluster Kubernetes devono usare solo i percorsi host consentiti](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f098fc59e-46c7-4d99-9b16-64990e543d75)) |Media |
|È consigliabile correggere le vulnerabilità delle immagini del Registro Azure Container (con tecnologia Qualys) |La valutazione delle vulnerabilità delle immagini del contenitore analizza il registro alla ricerca di vulnerabilità di sicurezza ed espone risultati dettagliati per ogni immagine. La risoluzione delle vulnerabilità può migliorare significativamente il comportamento di sicurezza dei contenitori e proteggerli dagli attacchi.<br />(criterio correlato: [È consigliabile correggere le vulnerabilità nelle immagini del Registro Azure Container](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f5f0f936f-2f01-4bf5-b6be-d423792fa562)) |Alto |
|||
